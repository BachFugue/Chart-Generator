<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<!-- CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
		<link href="styles.css" rel="stylesheet" media="all">

		<title>Chart Generator</title>
		
		<!-- JS -->
	  	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js" type="text/javascript"></script>
		
		
	</head>
	<body>
		<div class="jumbotron">
			<div class="container">
				<h1 class="display-4">DropChart</h1>
				<p class="lead">Just drop your CSV to generate a chart.</p>
			</div>
		</div>
		
		<div class="container">
			<form id="upload" action="index.html" method="POST" enctype="multipart/form-data">
				<fieldset>
					<legend>Upload CSV</legend>
					
					<input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="300000" />
					
					<div>
						<label for="fileselect">Files to upload:</label>
						<input type="file" id="fileselect" name="fileselect[]"/>
						<div id="filedrag">or drop files here</div>
					</div>
					<br />
					<div id="submitbutton">
						<button type="submit">Submit</button>
					</div>
				
				</fieldset>
				<div class="form-row">
					<div class="form-group col-sm-4">
						<label for="chartType">Chart Type</label>
						<select class="form-control" id="chartType">
							<option value="line">Line</option>
							<option value="bar" selected="selected">Bar</option>
							<option value="pie">Pie</option>
							<option value="donut">Donut</option>
						</select>
					</div>
					<div class="form-group col-sm-6">
						<label for="chartTitle">Chart Title</label>
						<input type="text" class="form-control" id="chartTitle" />
					</div>
					<div class="form-group col-sm-2">
						<label for="hideTitle">Display?</label>
						<select class="form-control" id="hideTitle">
							<option value="true" selected="selected">Show</option>
							<option value="false">Hide</option>
						</select>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-sm-10">
						<label for="chartLegend">Legend</label>
						<input type="text" class="form-control" id="chartLegend" />
					</div>
					<div class="form-group col-sm-2">
						<label for="hideLegend">Display?</label>
						<select class="form-control" id="hideLegend">
							<option value="true">Show</option>
							<option value="false" selected="selected">Hide</option>
						</select>
					</div>
				</div>
			
				<input class="btn btn-primary" type="button" value="Update" onclick="updateChart();">
			</form>
		
			<script src="script.js" type="text/javascript"></script>
			
			<div class="row">
				<div class="col">
					<canvas id="chart" width="400" height="400"></canvas>
<!-- 					<script src="chart.js" type="text/javascript"></script> -->
					
					<script src="DropChart.js" type="text/javascript"></script>
					<script>
						
						//chart data
						var data = {
							labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
					        datasets: [{
					            label: '# of Votes',
					            data: [12, 19, 3, 5, 2, 3],
					            backgroundColor: [
					                'rgba(255, 99, 132, 0.2)',
					                'rgba(54, 162, 235, 0.2)',
					                'rgba(255, 206, 86, 0.2)',
					                'rgba(75, 192, 192, 0.2)',
					                'rgba(153, 102, 255, 0.2)',
					                'rgba(255, 159, 64, 0.2)'
					            ],
					            borderColor: [
					                'rgba(255, 99, 132, 1)',
					                'rgba(54, 162, 235, 1)',
					                'rgba(255, 206, 86, 1)',
					                'rgba(75, 192, 192, 1)',
					                'rgba(153, 102, 255, 1)',
					                'rgba(255, 159, 64, 1)'
					            ],
					            borderWidth: 1
					        }]
					    };
						
						//chart options
						var options = {
					        scales: {
					            yAxes: [{
					                ticks: {
					                    beginAtZero: true
					                }
					            }]
					        }
						};
						var dropChart = new DropChart(DropChartType, data, options);
					</script>
				</div>
				<div class="col">
					<div id="codedisplay"></div>
				</div>
			</div>
			
<!--
			<div class="row">
				<div class="col">
					<div id="messages">
						<p>Status Messages</p>
					</div>
				</div>
			</div>
-->
			
				
		</div>	
		
		<!-- JS -->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>
